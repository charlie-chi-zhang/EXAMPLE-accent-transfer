import requests
import csv
import os

key = '18a8a59befbe681773f34adad96429a9'
#key = 'ca1b59c6e22f7b5e51a505259d738cec'

#r = requests.get('https://apifree.forvo.com/key/'+key+'/format/json/action/popular-pronounced-words/language/en/limit/5000')

top_words = ['abigail', 'africa', 'alabama', 'alexander', 'amazon', 'america', 'american', 'anna', 'anne', 'anthony', 'apocalypse_now', 'apple', 'april', 'arizona', 'arkansas', 'armageddon', 'athens', 'atlanta', 'august', 'aurora', 'australia', 'barack_obama', 'behemoth', 'benjamin', 'blur', 'boston', 'brazil', 'british', 'california', 'canada', 'canberra', 'candy', 'canterbury', 'caribbean', 'charlotte', 'chicago', 'china', 'chinese', 'christmas', 'colorado', 'daenerys_targaryen', 'daniel', 'david', 'december', 'derby', 'don', 'dublin', 'edinburgh', 'elizabeth', 'england', 'english', 'europe', 'f', 'facebook', 'fahrenheit', 'february', 'florida', 'france', 'friday', 'georgia', 'german', 'germany', 'glasgow', 'gloucester', 'google_earth', 'google', 'greece', 'greenwich', 'halloween', 'hannah', 'harry_potter', 'harry', 'hawaii', 'hewlett-packard', 'hi', 'hugh_jackman', "i'm", 'idaho', 'illinois', 'india', 'indianapolis', 'iowa', 'ireland', 'italy', 'j', 'jacob', 'jaguar', 'james', 'january', 'japan', 'japanese', 'jared', 'jessica', 'july', 'june', 'kent', 'lol', 'lancaster', 'lauren', 'lebanon', 'leicester', 'linux', 'liverpool', 'london', 'long_island', 'los_angeles', 'louisiana', 'manchester', 'maria', 'marlboro', 'mary', 'marylebone', 'massachusetts', 'matthew_mcconaughey', 'may', 'mayday', 'melbourne', 'michael_jackson', 'michael', 'michelle', 'michigan', 'minnesota', 'mississippi', 'missouri', 'monday', 'montreal', 'muslim', 'naomi', 'new_orleans', 'new_york', 'new_zealand', 'nike', 'norfolk', 'north_carolina', 'nottingham', 'o', 'october', 'ohio', 'oklahoma', 'ottawa', 'oxford', 'paw', 'paypal', 'pennsylvania', 'perth', 'peter', 'plymouth', 'portugal', 'quebec', 'r', 'reddit', 'ruby', 'russia', 'ryan', 'saturday', 'scone', 'scotland', 'sean', 'seattle', 'september', 'siobhan', 'skype', 'spain', 'switzerland', 'texas', 'thanksgiving', 'the_beatles', 'theo', 'thursday', 'tommy_hilfiger', 'toronto', 'total', 'tuesday', 'tumblr', 'twitter', 'united_kingdom', 'united_states_of_america', 'united_states', 'uranus', 'vancouver', 'venus', 'victoria', 'virginia', 'washington', 'wednesday', 'wikipedia', 'winchester', 'wisconsin', 'wollongong', 'worcestershire', 'yorkshire', 'yosemite', 'youtube', 'z', 'a', 'abbreviation', 'able', 'about', 'above', 'absolutely', 'accident', 'accurate', 'actor', 'actually', 'add', 'address', 'adjective', 'adult', 'advantage', 'advertisement', 'after', 'again', "ain't", 'air', 'airplane', 'airport', 'alien', 'all', 'allow', 'almond', 'although', 'aluminium', 'always', 'am', 'amber', 'ambulance', 'anal', 'anchor', 'ancient', 'and', 'android', 'anemone', 'angel', 'animal', 'antidisestablishmentarianism', 'anxiety', 'anything', 'apothecary', 'applause', 'apricot', 'are', 'argument', 'artist', 'as', 'ask', 'asked', 'ass', 'asshole', 'at', 'atheist', 'attitude', 'auburn', 'audio', 'aunt', 'autumn', 'available', 'awesome', 'awful', 'awkward', 'back', 'bacon', 'bad', 'badminton', 'bag', 'bagel', 'ball', 'ballet', 'banana', 'band', 'bank', 'bar', 'barbecue', 'barrier', 'baseball', 'basil', 'basketball', 'bastard', 'bath', 'bathroom', 'beach', 'bear', 'beautiful', 'because', 'bed', 'been', 'beer', 'below', 'best', 'beta', 'better', 'between', 'beverage', 'bike', 'bird', 'birthday', 'biscuit', 'bit', 'bitch', 'bitter', 'black', 'block', 'blood', 'blue', 'boat', 'book', 'bother', 'bottle', 'bought', 'boulevard', 'box', 'boy', 'boys', 'brain', 'bread', 'breathe', 'brother', 'brought', 'bum', 'buoy', 'burger', 'but', 'butter', 'butterfly', 'button', 'by', 'bye', 'cake', 'camel', 'camera', "can't", 'can', 'car', 'caramel', 'cardiovascular', 'carrot', 'case', 'castle', 'cat', 'category', 'caught', 'caution', 'ceiling', 'cement', 'cereal', 'certainly', 'challenge', 'chance', 'chandelier', 'chaos', 'cheese', 'chicken', 'chocolate', 'chrome', 'cinema', 'city', 'clean', 'clever', 'clock', 'close', 'clothes', 'coffee', 'cold', 'college', 'colonel', 'color', 'come', 'comfortable', 'comparable', 'computer', 'concrete', 'controversy', 'cool', 'cordial', 'cot', 'cotton', 'cougar', 'could', 'country', 'coupon', 'cover', 'cow', 'coyote', 'crayon', 'creek', 'croissant', 'crowded', 'cruel', 'crush', 'cucumber', 'culture', 'cunt', 'cup', 'curiosity', 'current', 'dance', 'data', 'database', 'daughter', 'dawn', 'death', 'debut', 'decadence', 'delicious', 'deoxyribonucleic_acid', 'desert', 'dessert', 'development', 'diaspora', 'dictionary', 'different', 'dinner', 'dirty', 'disaster', 'do', 'does', 'dog', 'dollar', 'dollars', "don't", 'door', 'down', 'dragon', 'drama', 'draught', 'drawer', 'dream', 'dress', 'drink', 'driver', 'drop', 'duck', 'dude', 'due', 'during', 'eagle', 'earbud', 'early', 'earn', 'earth', 'eat', 'egg', 'eight', 'either', 'elephant', 'eleven', 'emu', 'enjoy', 'enough', 'entrepreneur', 'envelope', 'euthanasia', 'evening', 'example', 'exhausted', 'exit', 'extraordinary', 'eyes', 'face', 'fad', 'fair', 'falcon', 'fall', 'family', 'famous', 'fan', 'far', 'fat', 'father', 'feature', 'feel', 'felt', 'field', 'fight', 'figure', 'film', 'find', 'finish', 'fire', 'first', 'fish_and_chips', 'fish', 'five', 'flower', 'food', 'football', "for_heaven's_sake", 'for', 'forehead', 'foreign', 'forever', 'four', 'fox', 'fragile', 'free', 'frequency', 'friend', 'fuck', 'fun', 'funny', 'further', 'future', 'garage', 'garbage', 'garden', 'gay', 'genre', 'geography', 'giraffe', 'girl', 'glacier', 'glass', 'global', 'go', 'goat', 'god', 'going', 'gold', 'golf', 'good', 'goodbye', 'gorilla', 'got', 'graduated', 'grass', 'green', 'guitar', 'had', 'hair', 'half-term', 'ham', 'hamburger', 'hammer', 'hamster', 'hand', 'happy', 'hare', 'has', 'hat', 'have', 'head', 'headache', 'heart', 'hello', 'help', 'her', 'herb', 'here', 'hierarchical', 'him', 'hippopotamus', 'his', 'history', 'hit', 'home', 'honey', 'horizontal', 'horrible', 'horse', 'hot_dog', 'hot', 'hour', 'how', 'hundred', 'hyperbole', 'i', 'idiot', 'immediately', 'in', 'interesting', 'international', 'interpret', 'iron', 'is', 'island', 'it', 'itinerary', 'jam', 'jazz', 'joke', 'joker', 'juice', 'jump', 'jumper', 'junior', 'just', 'kangaroo', 'ketchup', 'keyboard', 'kitten', 'kiwi', 'knife', 'know-how', 'know', 'koala', 'laboratory', 'lake', 'lamp', 'language', 'laptop', 'last', 'later', 'laugh', 'law', 'lawyer', 'lean', 'learn', 'leave', 'leg', 'leisure', 'lemon', 'length', 'letter', 'library', 'lick', 'lieutenant', 'life', 'light', 'like', 'listen', 'literature', 'lithium', 'little', 'live', 'long', 'look', 'love', 'lovely', 'lyrics', 'magazine', 'magic', 'mail', 'main', 'major', 'man', 'manager', 'mark', 'marry', 'master', 'mate', 'material', 'matter', 'mature', 'mayonnaise', 'me', 'mean', 'measure', 'meat', 'medicine', 'melancholy', 'men', 'mentor', 'menu', 'merry', 'message', 'milk', 'million', 'miniature', 'minute', 'mirror', 'miscellaneous', 'mischievous', 'mobile', 'modern', 'money', 'monkey', 'monster', 'months', 'moon', 'more', 'morning', 'most', 'mother', 'mountain', 'mouse', 'moustache', 'mouth', 'museum', 'music', 'my', 'name', 'napkin', 'natural', 'naughty', 'nausea', 'neither', 'nerd', 'never', 'new', 'nice', 'niche', 'night', 'nine', 'no', 'nonchalant', 'nose', 'not', 'nothing', 'novel', 'now', 'nuclear', 'ocean', 'of', 'often', 'on', 'one', 'onion', 'online', 'onomatopoeia', 'or', 'orange', 'order', 'orgasm', 'our', 'out', 'over', 'pain', 'pajamas', 'park', 'party', 'pasta', 'patience', 'pattern', 'pear', 'pecan_pie', 'pecan', 'pen', 'pencil', 'people', 'perhaps', 'piano', 'pillow', 'pin', 'pineapple', 'pink', 'place', 'plague', 'play', 'plum', 'poem', 'poop', 'poor', 'popular', 'port', 'portmanteau', 'pot', 'potato', 'pound', 'prefer', 'prerogative', 'pretty', 'princess', 'privacy', 'probably', 'problem', 'process', 'product', 'professor', 'progress', 'pronounce', 'pronunciation', 'pure', 'purple', 'purpose', 'put', 'quarrel', 'quarter', 'queue', 'quiet', 'quinoa', 'quite', 'rabbit', 'radio', 'rain', 'ran', 'rat', 'rather', 'really', 'recipe', 'record', 'red', 'refrigerator', 'region', 'regular', 'remember', 'research', 'restaurant', 'right', 'river', 'rock', 'romance', 'roof', 'route', 'run', 'rut', 'salt', 'same', 'sandwich', 'sauce', 'saw', 'schedule', 'science', 'search', 'second', 'secretary', 'see', 'selfie', 'severe', 'sex', 'sexy', 'she', 'sheep', 'shirt', 'shit', 'short', 'show', 'silver', 'similar', 'singer', 'single', 'sister', 'sit', 'six', 'sixth', 'skin', 'small', 'smart', 'snow', 'some', 'something', 'son', 'sorrow', 'sorry', 'southern', 'spectacular', 'spider', 'spread', 'spring', 'square', 'squash', 'squirrel', 'stadium', 'start', 'status', 'step', 'stick', 'still', 'stop', 'straight', 'strategic', 'street', 'strength', 'student', 'study', 'stupid', 'subtle', 'sugar', 'suggestion', 'suit', 'summer', 'supercalifragilisticexpialidocious', 'superior', 'sure', 'syrup', 'tablet', 'take', 'talk', 'tan', 'tap', 'taught', 'tea', 'teacher', 'telephone', 'television', 'temperature', 'ten', 'test', 'thanks', 'that', 'the', 'theatre', 'their', 'then', 'there', 'these', 'they', 'thick', 'think', 'this', 'thistle', 'though', 'thought', 'thousand', 'three', 'through', 'throughout', 'tiger', 'time', 'tired', 'tissue', 'tits', 'toast', 'today', 'toe', 'together', 'tomato', 'tomorrow', 'tongue', 'tooth', 'top', 'tortoise', 'totally', 'towel', 'tower', 'town', 'train', 'tree', 'true', 'tube', 'turkey', 'turtle', 'twat', 'twenty', 'two', 'understand', 'unfortunately', 'university', 'up', 'usually', 'vagina', 'vase', 'vegan', 'vegetable', 'vehicle', 'very', 'vineyard', 'vintage', 'vinyl', 'violin', 'vitamin', 'vocabulary', 'volleyball', 'vulture', 'walk', 'want', 'war', 'warm', 'warrior', 'was', 'wash', 'water', 'weather', 'weird', 'welcome', 'were', 'wet', 'what', 'whatever', 'when', 'where', 'which', 'while', 'white', 'whole', 'why', 'wicked', 'will', 'wine', 'winter', 'with', 'woman', 'won', 'wonderful', 'wool', 'word', 'work', 'world', 'would', 'wrath', 'wrist', 'write', 'writer', "y'all", 'year', 'years', 'yellow', 'yes', 'yoghurt', "you'll", "you're", 'you', 'young', 'your', 'youth']


with open('forvo_data.csv', mode='a',newline='') as csv_file:
    fieldnames = ['id', 'word', 'original', 'addtime', 'hits', 'username', 'sex', 'country', 'code', 'langname', 'pathmp3', 'pathogg', 'num_votes', 'num_positive_votes', 'rate']
    writer = csv.DictWriter(csv_file, fieldnames=fieldnames)
    
    for i in range(950, 980):
        r = requests.get('https://apifree.forvo.com/key/' + key + '/format/json/action/word-pronunciations/word/' + top_words[i] + '/language/en')
        
        for entry in r.json()['items']:
            try:
                url = entry['pathmp3']
                soundid = entry['id']
                country = entry['country']
                if country == '':
                    country = 'unknown'
                r = requests.get(url)
                
                os.makedirs(country, exist_ok=True)
                open(country + '/' + str(soundid) + '.mp3', 'wb').write(r.content)
            
                writer.writerow(entry)
            except:
                print(i)
                print(entry)


#234, 268
